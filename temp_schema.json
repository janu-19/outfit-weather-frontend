{"openapi":"3.1.0","info":{"title":"AI Outfit & Weather Assistant","version":"0.1.0"},"paths":{"/auth/register":{"post":{"tags":["authentication"],"summary":"Register","description":"Register a new user.","operationId":"register_auth_register_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserRegister"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/auth/login":{"post":{"tags":["authentication"],"summary":"Login","description":"Login user and return JWT access token.","operationId":"login_auth_login_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserLogin"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TokenResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/predict-outfit":{"post":{"summary":"Predict Outfit","description":"Predict outfit type from image.\nUploads image to Cloudinary and returns prediction with confidence.","operationId":"predict_outfit_predict_outfit_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_predict_outfit_predict_outfit_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/outfit-categories":{"get":{"summary":"Get Outfit Categories","description":"Get all available outfit categories for manual selection.","operationId":"get_outfit_categories_outfit_categories_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/outfit-weather":{"post":{"summary":"Outfit Weather","description":"Get outfit weather recommendations.\nIf manual_outfit_type is provided, use it instead of ML prediction.","operationId":"outfit_weather_outfit_weather_post","parameters":[{"name":"city","in":"query","required":false,"schema":{"type":"string","default":"Delhi","title":"City"}},{"name":"material","in":"query","required":false,"schema":{"type":"string","default":"cotton","title":"Material"}},{"name":"occasion","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Occasion"}},{"name":"manual_outfit_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Manual Outfit Type"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_outfit_weather_outfit_weather_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/verify-outfit":{"post":{"summary":"Verify Outfit","description":"Verify/Correct a prediction.\nUpdates the database with the correct label and marks as verified.","operationId":"verify_outfit_verify_outfit_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VerifyRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/debug/verified-uploads":{"get":{"summary":"Get Verified Uploads","description":"Debug endpoint to view all verified user uploads.\nUseful for checking if feedback is being saved correctly on the server.","operationId":"get_verified_uploads_debug_verified_uploads_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/travel-pack":{"get":{"summary":"Travel Pack","operationId":"travel_pack_travel_pack_get","parameters":[{"name":"city","in":"query","required":true,"schema":{"type":"string","title":"City"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/wardrobe/upload-outfit":{"post":{"tags":["wardrobe"],"summary":"Upload Outfit","description":"Upload outfit image to Cloudinary and optionally run ML prediction.\nReturns image URL and prediction.","operationId":"upload_outfit_wardrobe_upload_outfit_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_outfit_wardrobe_upload_outfit_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/wardrobe/save-outfit":{"post":{"tags":["wardrobe"],"summary":"Save Outfit","description":"Save outfit to wardrobe database.","operationId":"save_outfit_wardrobe_save_outfit_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OutfitCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/wardrobe/outfits":{"get":{"tags":["wardrobe"],"summary":"Get Wardrobe","description":"Get all outfits from wardrobe with optional filters (user-specific).","operationId":"get_wardrobe_wardrobe_outfits_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"category","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"}},{"name":"occasion","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Occasion"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/wardrobe/outfit/{outfit_id}":{"get":{"tags":["wardrobe"],"summary":"Get Outfit","description":"Get a specific outfit by ID (must belong to current user).","operationId":"get_outfit_wardrobe_outfit__outfit_id__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"outfit_id","in":"path","required":true,"schema":{"type":"integer","title":"Outfit Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["wardrobe"],"summary":"Update Outfit","description":"Update outfit details (must belong to current user).","operationId":"update_outfit_wardrobe_outfit__outfit_id__put","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"outfit_id","in":"path","required":true,"schema":{"type":"integer","title":"Outfit Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OutfitUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["wardrobe"],"summary":"Delete Outfit","description":"Delete outfit from wardrobe (must belong to current user).","operationId":"delete_outfit_wardrobe_outfit__outfit_id__delete","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"outfit_id","in":"path","required":true,"schema":{"type":"integer","title":"Outfit Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/wardrobe/wear-outfit/{outfit_id}":{"post":{"tags":["wardrobe"],"summary":"Wear Outfit","description":"Mark outfit as worn today (must belong to current user).","operationId":"wear_outfit_wardrobe_wear_outfit__outfit_id__post","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"outfit_id","in":"path","required":true,"schema":{"type":"integer","title":"Outfit Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/wardrobe/outfits-by-date/{wear_date}":{"get":{"tags":["wardrobe"],"summary":"Outfits By Date","description":"Get all outfits worn on a specific date (user-specific).\nDate format: YYYY-MM-DD","operationId":"outfits_by_date_wardrobe_outfits_by_date__wear_date__get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"wear_date","in":"path","required":true,"schema":{"type":"string","title":"Wear Date"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/wardrobe/not-worn-recently":{"get":{"tags":["wardrobe"],"summary":"Not Worn Recently","description":"Get outfits not worn in the last N days (user-specific).","operationId":"not_worn_recently_wardrobe_not_worn_recently_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"days","in":"query","required":false,"schema":{"type":"integer","default":30,"title":"Days"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/wardrobe/suggest-outfits":{"get":{"tags":["wardrobe"],"summary":"Suggest Outfits","description":"Smart outfit suggestions based on:\n- Category (optional)\n- Occasion (optional)\n- Avoid recently worn outfits\nAll suggestions are user-specific.","operationId":"suggest_outfits_wardrobe_suggest_outfits_get","security":[{"OAuth2PasswordBearer":[]}],"parameters":[{"name":"category","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"}},{"name":"occasion","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Occasion"}},{"name":"avoid_recent","in":"query","required":false,"schema":{"type":"boolean","default":true,"title":"Avoid Recent"}},{"name":"days","in":"query","required":false,"schema":{"type":"integer","default":7,"title":"Days"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/wardrobe/stats":{"get":{"tags":["wardrobe"],"summary":"Wardrobe Stats","description":"Get wardrobe statistics (user-specific).","operationId":"wardrobe_stats_wardrobe_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"OAuth2PasswordBearer":[]}]}},"/":{"get":{"summary":"Root","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"Body_outfit_weather_outfit_weather_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_outfit_weather_outfit_weather_post"},"Body_predict_outfit_predict_outfit_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_predict_outfit_predict_outfit_post"},"Body_upload_outfit_wardrobe_upload_outfit_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"}},"type":"object","required":["file"],"title":"Body_upload_outfit_wardrobe_upload_outfit_post"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"OutfitCreate":{"properties":{"image_url":{"type":"string","title":"Image Url"},"category":{"type":"string","title":"Category"},"color":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Color"},"occasion":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Occasion"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"confidence":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Confidence"}},"type":"object","required":["image_url","category"],"title":"OutfitCreate"},"OutfitUpdate":{"properties":{"category":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Category"},"color":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Color"},"occasion":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Occasion"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"}},"type":"object","title":"OutfitUpdate"},"TokenResponse":{"properties":{"access_token":{"type":"string","title":"Access Token"},"token_type":{"type":"string","title":"Token Type"}},"type":"object","required":["access_token","token_type"],"title":"TokenResponse"},"UserLogin":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","title":"Password"}},"type":"object","required":["email","password"],"title":"UserLogin"},"UserRegister":{"properties":{"email":{"type":"string","format":"email","title":"Email"},"password":{"type":"string","title":"Password"}},"type":"object","required":["email","password"],"title":"UserRegister"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"VerifyRequest":{"properties":{"image_id":{"type":"integer","title":"Image Id"},"user_label":{"type":"string","title":"User Label"}},"type":"object","required":["image_id","user_label"],"title":"VerifyRequest"}},"securitySchemes":{"OAuth2PasswordBearer":{"type":"oauth2","flows":{"password":{"scopes":{},"tokenUrl":"/auth/login"}}}}}}